main=~/PycharmProjects/pynet/main.py
## Sex, Age, Dx Bench


# Running...

#CUDA_VISIBLE_DEVICES=4 cuda-memcheck --log-file /home_local/testing/cuda-memcheck-benoit.log --print-level warn --print-limit 0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNeXt/N_500/Test/Sex --exp_name ResNeXt_Sex_HCP_IXI -b 8 --net resnext50 --nb_folds 5 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --loss BCE --stratify_label site --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 &> resneXt_sex.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNeXt/N_500/Age/Dropout --preproc quasi_raw --exp_name ResNeXt_Age_HCP_IXI -b 8 --net resnext50 --nb_folds 5 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --dropout 0.5 --labels age --loss l1 --stratify_label age --train --lr 1e-4 --test basic --nb_epochs_per_saving 300 --nb_epochs 300 --N_train_max 500 --profile_gpu &> resneXt_age_dropout.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNeXt/N_500/Dx --exp_name ResNeXt_Dx_HCP_IXI -b 8 --net resnext50 --nb_folds 5 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --test_all_epochs --N_train_max 500 &> resneXt_dx.txt &

#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet50/N_500/Sex --exp_name ResNet50_Sex_HCP_IXI --preproc quasi_raw -b 8 --net resnet50 --nb_folds 5 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --loss BCE --stratify_label site --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 &> resnet50_quick_sex.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet50/N_500/Age/Dropout --exp_name ResNet50_Age_HCP_IXI -b 8 --preproc quasi_raw --net resnet50 --nb_folds 5 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --dropout 0.5 --labels age --loss l1 --stratify_label age --train --lr 1e-4 --test basic --nb_epochs 300 --nb_epochs_per_saving 300 --N_train_max 500 &> resnet50_age_dropout.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet50/N_500/Dx --exp_name ResNet50_Dx_HCP_IXI -b 8 --preproc quasi_raw --net resnet50 --nb_folds 5 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --test_all_epochs --N_train_max 500 &> resnet50_dx.txt &

#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/VGG/VGG11/N_500/Sex --exp_name VGG11_Sex_HCP_IXI -b 8 --preproc quasi_raw --net vgg11 --nb_folds 5 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --loss BCE --stratify_label site --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 8 &> vgg11_sex.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/VGG/VGG11/N_500/Age --preproc quasi_raw --exp_name VGG11_Age_HCP_IXI -b 8 --net vgg11 --nb_folds 5 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --train --lr 1e-4 --nb_epochs 1 --profile_gpu --test_all_epochs --N_train_max 500 &> vgg11_age_profiling.txt &
#CUDA_VISIBLE_DEVICES=6 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/VGG/VGG11/N_500/Dx --exp_name VGG11_Dx_HCP_IXI -b 8 --net vgg11 --nb_folds 5 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --test_all_epochs --N_train_max 500 &> vgg11_dx.txt &

#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Sex --preproc quasi_raw --exp_name SFCN_Sex_HCP_IXI -b 8 --net sfcn --nb_folds 5 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels sex --loss BCE --stratify_label site --train --test basic --metrics roc_auc balanced_accuracy  --lr 1e-4 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 &> sfcn_sex.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI_pretrained -b 8 --net sfcn --nb_folds 5 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --test basic --lr 1e-4 --nb_epochs 300 --nb_epochs_per_saving 100 --N_train_max 500 &> sfcn_age.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/SFCN/N_500/Dx --exp_name SFCN_Dx_HCP_IXI_step_size_scheduler_30 -b 8 --net sfcn --nb_folds 5 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 30 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-2 --nb_epochs_per_saving 150 --nb_epochs 150 --test_all_epochs --N_train_max 500 &> sfcn_dx.txt &

#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet18/N_500/Age/Dropout --exp_name ResNet18_Age_HCP_IXI --preproc quasi_raw -b 8 --net resnet18 --nb_folds 5 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --dropout 0.5 --labels age --loss l1 --stratify_label age --train --test basic --lr 1e-4 --nb_epochs 300 --nb_epochs_per_saving 300 --N_train_max 500  &> resnet18_age_dropout.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet18/N_500/Age --exp_name ResNet18_Age_HCP_IXI_1.5mm3_lr_1e-5 --preproc quasi_raw -b 8 --net resnet18 --nb_folds 3 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --loss BCE --stratify_label site --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-5 --nb_epochs_per_saving 100 --nb_epochs 100 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> resnet18_age_1.5mm3_lr_1e-5.txt &

#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_500/Age/Dropout --exp_name ResNet34_Age_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net resnet34 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --dropout 0.5 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs 300 --nb_epochs_per_saving 300  --N_train_max 500 &> resnet34_age_dropout.txt &

#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_1600/Sex --exp_name DenseNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --net densenet121 --nb_folds 5 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --loss BCE --stratify_label site --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1600  --num_cpu_workers 4 &> densenet_sex.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_500/Age/Dropout --exp_name DenseNet_Age_HCP_IXI --preproc quasi_raw -b 8 --net densenet121 --nb_folds 5 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --dropout 0.1 --sampler random --labels age --loss l1 --stratify_label age --train --test basic --lr 1e-4  --nb_epochs 300 --nb_epochs_per_saving 300 --N_train_max 500 &> densenet_age_dropout.txt &

#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_500/Age/Dropout --preproc quasi_raw --exp_name ColeNet_Age_HCP_IXI -b 8 --nb_folds 5 --net cole_net --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --dropout 0.5 --sampler random --labels age --loss l1 --stratify_label age --train --test basic --lr 1e-4 --nb_epochs_per_saving 300 --nb_epochs 300 --N_train_max 500 &> tiny_vgg_age_dropout.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/VGG/VGG11/Sex --exp_name VGG11_Sex_HCP_IXI -b 8 --nb_folds 1 --net vgg11 --db healthy --sampler random --labels sex --with_test --lr 1e-4 --metrics roc_auc balanced_accuracy --nb_epochs_per_saving 1 --nb_epochs 100 &> vgg11.txt &

#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_500/Age/Dropout --preproc quasi_raw --exp_name TinyDenseNet_Exp9_Age_HCP_IXI -b 8 --nb_folds 5 --net tiny_densenet_exp9 --db healthy --loss l1 --gamma_scheduler 0.7 --step_size_scheduler 10 --dropout 0.1 --sampler random --stratify_label age --labels age --train --test basic --lr 1e-4 --nb_epochs 300 --nb_epochs_per_saving 300 --N_train_max 500 &> tiny_densenet_age_dropout.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/TinyDenseNet/Sex --exp_name TinyDenseNet_Exp9_Sex_HCP_IXI -b 8 --nb_folds 1 --net tiny_densenet_exp9 --db healthy --loss BCE --gamma_scheduler 0.5 --sampler random --labels sex --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> sex_tiny_densenet.txt &

#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/TinyDenseNet/Dx --exp_name TinyDenseNet_Exp8_Dx_SCZ_VIP -b 8 --nb_folds 5 --net tiny_densenet_exp8 --db tiny_scz_kfolds --loss BCE --gamma_scheduler 0.2 --sampler random --da flip --labels diagnosis --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 50 &> dx_tiny_densenet8.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/TinyDenseNet/Dx --exp_name TinyDenseNet_Exp9_Dx_SCZ_VIP -b 8 --nb_folds 5 --net tiny_densenet_exp9 --db tiny_scz_kfolds --loss BCE --gamma_scheduler 0.2 --sampler random --da flip --labels diagnosis --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 50 &> dx_tiny_densenet9.txt &


#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/VGG/VGG11/Dx --exp_name VGG11_Dx_SCZ_VIP -b 8 --nb_folds 5 --net vgg11 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --test --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> vgg11_dx.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/Dx --exp_name Full_ColeNet_Dx_SCZ_VIP -b 8 --nb_folds 5 --net cole_net --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --test --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> dx_colenet.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNeXt/Dx --exp_name ResNeXt_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnext50 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --metrics roc_auc balanced_accuracy --test --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resneXt_dx.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet18/Dx --exp_name ResNet18_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet18 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --metrics roc_auc balanced_accuracy --test --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet18.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/Dx --exp_name Full_ResNet34_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet34 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --metrics roc_auc balanced_accuracy --test --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet34_dx.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet50/Dx --exp_name ResNet50_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet50 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --test --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet50.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet101/Dx --exp_name ResNet101_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet101 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --test --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet101.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/VGG/VGG16/Dx --exp_name VGG16_Dx_SCZ_VIP -b 8 --nb_folds 5 --net vgg16 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --test --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> vgg16.txt &

## Bipolar Disorder training
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Bipolar --exp_name DenseNet_Bipolar_BIOBD -b 8 --nb_folds 5 --net densenet121 --loss BCE --gamma_scheduler 0.9 --step_size_scheduler 10 --lr 1e-4 --db bipolar_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --metrics roc_auc balanced_accuracy --train --test basic --nb_epochs_per_saving 100 --nb_epochs 300 &> densenet_bipolar.txt &



## MC-Dropout comparison


#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Dx/Dropout/p_0.5 --exp_name DenseNet_Dx_SCZ_VIP -b 8 --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --sampler random --gamma_scheduler 0.2 --stratify_label diagnosis --labels diagnosis --dropout 0.5 --bayesian --test MC --loss BCE --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> densenet_dx_drop0.5.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Dx/Dropout/p_0.2 --exp_name DenseNet_Dx_SCZ_VIP -b 8 --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --sampler random --gamma_scheduler 0.2 --stratify_label diagnosis --labels diagnosis --dropout 0.2 --bayesian --test MC --loss BCE --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> densenet_dx_drop0.2.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Dx/Dropout/Concrete_Dropout --exp_name DenseNet_Dx_SCZ_VIP -b 4 --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --sampler random --gamma_scheduler 0.2 --stratify_label diagnosis --labels diagnosis --concrete_dropout  --test MC --loss BCE_concrete_dropout --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> densenet_dx_concrete_dropout.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/Dx/Dropout/Concrete_Dropout --exp_name ColeNet_Dx_SCZ_VIP -b 4 --nb_folds 5 --net cole_net --db tiny_scz_kfolds --sampler random --gamma_scheduler 0.2 --stratify_label diagnosis --labels diagnosis --concrete_dropout --test MC --loss BCE_concrete_dropout --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> colenet_dx_concrete_dropout.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/Dx/Dropout/Concrete_Dropout --exp_name ResNet34_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet34 --db tiny_scz_kfolds --sampler random --da flip --gamma_scheduler 0.2 --stratify_label diagnosis --labels diagnosis --concrete_dropout  --test MC --loss BCE_concrete_dropout --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> resnet_dx_concrete_dropout.txt &


## Ensembling to 1) estimate uncertainty and 2) improve the results based on aggregation strategy
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/TinyDenseNet/N_500/Age/Ensembling --exp_name TinyDenseNet_Exp9_Age_HCP_IXI -b 8 --nb_folds 5 --net tiny_densenet_exp9 --db healthy --test ensemble --sampler random --gamma_scheduler 0.9 --step_size_scheduler 10 --labels age --stratify_label age --loss l1 --lr 1e-4 --nb_epochs_per_saving 300 --nb_epochs 300 --N_train_max 500 &> tiny_densenet_age_test.txt &

#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_500/Age/Ensembling --exp_name DenseNet_Age_HCP_IXI -b 8 --nb_folds 5 --net densenet121 --db healthy --test ensemble --sampler random --gamma_scheduler 0.9 --step_size_scheduler 10 --labels age --stratify_label age --loss l1 --lr 1e-4 --nb_epochs_per_saving 300 --nb_epochs 300 --N_train_max 500 &> densenet_age_ensembling.txt &


#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/Dx/Ensembling --exp_name ColeNet_Dx_SCZ_VIP_ensemble_1 --manual_seed 0 -b 8 --nb_folds 5 --da flip --net cole_net --db tiny_scz_kfolds --test with_training --sampler random --gamma_scheduler 0.2 --labels diagnosis --loss BCE --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> colenet_dx_ensembling1.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/TinyDenseNet/N_500/Dx/Ensembling --exp_name TinyDenseNet_Exp9_Dx_SCZ_VIP -b 8 --nb_folds 5 --da flip --net tiny_densenet_exp9 --db tiny_scz_kfolds --test ensemble --sampler random --gamma_scheduler 0.2 --labels diagnosis --loss BCE --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 &> tiny_densenet_dx_ensembling.txt &

## Data Augmentation Experiments

#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Flip/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 1 --test basic  --da flip --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 &> sfcn_flip_age.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_500/Sex/Data_Augmentation/Motion_Artefact/ --preproc quasi_raw --exp_name DenseNet_Sex_HCP_IXI -b 8 --net densenet121 --nb_folds 5 --test basic  --da motion --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --loss BCE --metrics balanced_accuracy roc_auc --stratify_label site --lr 1e-4 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 8 &> densenet_motion_sex.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_500/Dx/Data_Augmentation/Gaussian_Blur/ --preproc quasi_raw --exp_name DenseNet_Dx_SCZ_VIP -b 8 --net densenet121 --nb_folds 5 --train --test basic --da blur --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis age--lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --test_all_epochs --N_train_max 500 --num_cpu_workers 8 &> densenet_blur_dx.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Gaussian_Blur/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 1 2 --test basic --da blur --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> sfcn_blur_age.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Gaussian_Noise/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 --test basic --da noise --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 &> sfcn_noise_age.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Ghosting_Artefact/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 --test basic --da ghosting --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> sfcn_ghosting_age.txt & #
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Spike_Artefact/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 1 --test basic --da spike --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> sfcn_spike_age.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Motion_Artefact/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 2 3 4 --train --test basic --da motion --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 8 &> sfcn_motion_age.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_500/Dx/Data_Augmentation/Motion_Artefact/ --preproc quasi_raw --exp_name DenseNet_Dx_SCZ_VIP -b 8 --net densenet121 --nb_folds 5 --train --test basic --da motion --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis age--lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --test_all_epochs --N_train_max 500 --num_cpu_workers 8 &> densenet_motion_dx.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Swap/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 --test basic --da swap --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> sfcn_swap_age.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Crop/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 1 --test basic --da resized_crop --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> sfcn_crop_age.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Affine/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --nb_folds 5 --folds 0 --test basic --da affine --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> sfcn_affine_age.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/SFCN/N_500/Age/Data_Augmentation/Biasfield_Artefact/ --preproc quasi_raw --exp_name SFCN_Age_HCP_IXI -b 8 --net sfcn --folds 0 --nb_folds 5 --test basic --da biasfield --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age --lr 1e-3 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4 &> sfcn_biasfield_age.txt &

#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_500/Age/Data_Augmentation/Crop/ --exp_name DenseNet_Age_HCP_IXI_crop_115-138-115 -b 8 --net densenet121 --nb_folds 5 --da resized_crop --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age  --train --test basic --lr 1e-4 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500  &> densenet_crop_age_cat12.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_500/Age/Data_Augmentation/Affine/ --exp_name DenseNet_Age_HCP_IXI_rot-5_trans-10 -b 8 --net densenet121 --nb_folds 5 --da affine --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --loss l1 --stratify_label age  --train --test basic --lr 1e-4 --nb_epochs_per_saving 300 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 4  &> densenet_affine_age_cat12.txt &


# Transfer Learning

## Age Pretraining
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Age --exp_name DenseNet_Age_Big_Healthy -b 24 --net densenet121 --nb_folds 1 --db big_healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --loss l1 --train --test basic --lr 1e-4 --nb_epochs 150 --nb_epochs_per_saving 50 --num_cpu_workers 8 &> densenet_age_all_healthy.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_1600/Age --exp_name DenseNet_Age_HCP_IXI --outfile_name Test_DenseNet_BIOBD -b 8 --net densenet121 --nb_folds 5 --db bipolar_kfolds --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels diagnosis --loss l1 --test nn_repr --lr 1e-4 --nb_epochs 300 --nb_epochs_per_saving 50 &> test_densenet_age_all_healthy.txt &

## Sex Pretraining
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex --exp_name DenseNet_Sex_HCP_IXI --outfile_name DenseNet_Block1_SCZ_VIP -b 8 --gamma_scheduler 0.9 --loss BCE --nb_folds 1 --net densenet121_block1 --test MC --labels diagnosis --db tiny_scz_kfolds --sampler random --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> densenet121_out1.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Sex --exp_name DenseNet_Sex_Big_Healthy -b 8 --net densenet121 --nb_folds 1 --db big_healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex  --loss BCE --test basic --lr 1e-4 --nb_epochs 150 --nb_epochs_per_saving 50  &> densenet_sex_all_healthy.txt &

## Age/Sex Pretraining
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex_Age --exp_name DenseNet_Sex_Age_HCP_IXI -b 8 --nb_folds 1 --net densenet121 --num_classes 2 --db healthy --sampler random --labels age sex --gamma_scheduler 0.9 --loss multi_l1_bce --test basic --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> densenet121_age_sex_test.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Sex_Age --exp_name DenseNet_Sex_Age_Big_Healthy -b 8 --net densenet121 --nb_folds 1 --db big_healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age sex --num_classes 2 --loss multi_l1_bce --test basic --lr 1e-4 --nb_epochs 150 --nb_epochs_per_saving 50 &> densenet_age_sex_all_healthy_test.txt &

## Age Transfer
# Healthy DB (N=1.6k)
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Age_Pretraining/schizconnect_vip/DenseNet/N_100 --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Age/DenseNet_Age_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 --N_train_max 100 &> densenet121_age_pretrained.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Age_Pretraining/schizconnect_vip/DenseNet/Block1_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock2.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Age/DenseNet_Age_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained1.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Age_Pretraining/schizconnect_vip/DenseNet/Block2_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock3.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Age/DenseNet_Age_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained2.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Age_Pretraining/schizconnect_vip/DenseNet/Block3_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock4.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Age/DenseNet_Age_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained3.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Age_Pretraining/schizconnect_vip/DenseNet/Block4_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.7 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer classifier --sampler random --stratify_label diagnosis --labels diagnosis --test basic --train --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Age/DenseNet_Age_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 300 &> densenet121_age_pretrained.txt &
# BigHealthy DB (N=10k)
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/BigHealthy/Age_Pretraining/schizconnect_vip/DenseNet/Block1_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock2.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Age/DenseNet_Age_Big_Healthy_0_epoch_149_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained1.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/BigHealthy/Age_Pretraining/schizconnect_vip/DenseNet/Block2_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock3.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path //neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Age/DenseNet_Age_Big_Healthy_0_epoch_149_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained2.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/BigHealthy/Age_Pretraining/schizconnect_vip/DenseNet/Block3_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock4.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Age/DenseNet_Age_Big_Healthy_0_epoch_149_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained3.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/BigHealthy/Age_Pretraining/schizconnect_vip/DenseNet/Block4_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.7 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer classifier --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Age/DenseNet_Age_Big_Healthy_0_epoch_149_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained4.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/BigHealthy/Age_Pretraining/schizconnect_vip/DenseNet/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Age/DenseNet_Age_Big_Healthy_0_epoch_149_without_classifier.pth --nb_epochs 50 &> densenet121_age_pretrained.txt &


#
## Sex Transfer
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Pretraining/schizconnect_vip/DenseNet/Block1_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock2.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex/DenseNet_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_pretrained1.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Pretraining/schizconnect_vip/DenseNet/Block2_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock3.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex/DenseNet_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_pretrained2.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Pretraining/schizconnect_vip/DenseNet/Block3_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock4.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex/DenseNet_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_pretrained3.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Pretraining/schizconnect_vip/DenseNet/Block4_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer classifier --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex/DenseNet_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_pretrained4.txt &
#
## Sex/Age Transfer
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Age_Pretraining/schizconnect_vip/DenseNet/Block1_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock2.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex_Age/DenseNet_Age_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_age_pretrained1.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Age_Pretraining/schizconnect_vip/DenseNet/Block2_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock3.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex_Age/DenseNet_Age_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_age_pretrained2.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Age_Pretraining/schizconnect_vip/DenseNet/Block3_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock4.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex_Age/DenseNet_Age_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_age_pretrained3.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Age_Pretraining/schizconnect_vip/DenseNet/Block4_frozen/ --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer classifier --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex_Age/DenseNet_Age_Sex_HCP_IXI_0_epoch_99_without_classifier.pth --nb_epochs 50 &> densenet121_sex_age_pretrained4.txt &

## SimCLR Transfer
#CUDA_VISIBLE_DEVICES=7 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Self_Supervision/schizconnect_vip/SimCLR_Exp3/noisy_spike_motion_crop_DA/SBR/ --exp_name DenseNet_Dx_SCZ_VIP_SBR -b 8 --gamma_scheduler 0.2 --loss BCE_SBRLoss --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-3 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/exp_3/noisy_spike_motion_crop_DA/DenseNet_HCP_IXI_0_epoch_199_without_head.pth --nb_epochs 50 &> densenet121_simCLR_pretrained_sbr_reg.txt &

#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Self_Supervision/schizconnect_vip/SimCLR_Exp3/noisy_spike_motion_crop_DA/unsupervised --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-3 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/exp_3/noisy_spike_motion_crop_DA/unsupervised/DenseNet_HCP_IXI_0_epoch_299_without_head.pth --nb_epochs 50 &> densenet121_simCLR_pretrained.txt &
#
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Self_Supervision/schizconnect_vip/SimCLR_Exp3/noisy_spike_motion_crop_DA/unsupervised/Block1_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --freeze_until_layer features.denseblock2.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/exp_3/noisy_spike_motion_crop_DA/unsupervised/DenseNet_HCP_IXI_0_epoch_299_without_head.pth --nb_epochs 50 &> densenet121_simCLR_pretrained1.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Self_Supervision/schizconnect_vip/SimCLR_Exp3/noisy_spike_motion_crop_DA/unsupervised/Block2_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --freeze_until_layer features.denseblock3.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/exp_3/noisy_spike_motion_crop_DA/unsupervised/DenseNet_HCP_IXI_0_epoch_299_without_head.pth --nb_epochs 50 &> densenet121_simCLR_pretrained2.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Self_Supervision/schizconnect_vip/SimCLR_Exp3/noisy_spike_motion_crop_DA/unsupervised/Block3_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --freeze_until_layer features.denseblock4.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/exp_3/noisy_spike_motion_crop_DA/unsupervised/DenseNet_HCP_IXI_0_epoch_299_without_head.pth --nb_epochs 50 &> densenet121_simCLR_pretrained3.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Self_Supervision/schizconnect_vip/SimCLR_Exp3/noisy_spike_motion_crop_DA/unsupervised/Block4_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --freeze_until_layer classifier --sampler random --stratify_label diagnosis --labels diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/exp_3/noisy_spike_motion_crop_DA/unsupervised/DenseNet_HCP_IXI_0_epoch_299_without_head.pth --nb_epochs 50 &> densenet121_simCLR_pretrained4.txt &

## No Transfer
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/No_Pretraining/schizconnect_vip/DenseNet/Block1_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock2.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> densenet121_1.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/No_Pretraining/schizconnect_vip/DenseNet/Block2_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock3.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> densenet121_2.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/No_Pretraining/schizconnect_vip/DenseNet/Block3_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer features.denseblock4.denselayer1 --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> densenet121_3.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/No_Pretraining/schizconnect_vip/DenseNet/Block4_frozen --exp_name DenseNet_Dx_SCZ_VIP -b 8 --gamma_scheduler 0.2 --loss BCE --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --da flip --freeze_until_layer classifier --sampler random --stratify_label diagnosis --labels diagnosis --test with_training --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 50 --nb_epochs 50 &> densenet121_4.txt &
#

#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex_Age/Age_Scaled --exp_name DenseNet_Age_Scaled_Sex_HCP_IXI -b 8 --gamma_scheduler 0.9 --loss multi_l1_bce --nb_folds 1 --net densenet121 --db healthy --sampler random --labels age sex --num_classes 2 --test with_training --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 100 &> densenet121_age_sex.txt &

## SimCLR Training

# MIXTURE [motion, gaussian, crop/cutout...]
# SWAP, FLIP, BLUR, NOISE
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_0/ --outfile_name DenseNet_Block4_HCP_IXI --exp_name DenseNet_HCP_IXI -b 16 --gamma_scheduler 0.9 --loss l1_sup_NTXenLoss --labels age --nb_folds 1 --net densenet121_block4 --test MC --db healthy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 100  &> test_densenet121_simCLR_exp0.txt &
# SWAP, FLIP, BLUR, NOISE, MOTION, SPIKE
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_1/ --outfile_name DenseNet_Block4_HCP_IXI --exp_name DenseNet_HCP_IXI -b 16 --gamma_scheduler 0.9 --loss l1_sup_NTXenLoss --labels age --nb_folds 1 --net densenet121_block4 --test MC --db healthy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 51  &> test_densenet121_simCLR_exp1.txt &
# FLIP, BLUR, NOISE, MOTION, SPIKE
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_2/ --outfile_name DenseNet_Block4_HCP_IXI --exp_name DenseNet_HCP_IXI -b 16 --gamma_scheduler 0.9 --loss l1_sup_NTXenLoss --labels age --nb_folds 1 --net densenet121_block4 --test MC --db healthy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 11  &> test_densenet121_simCLR_exp2.txt &
# FLIP, BLUR, GHOSTING, MOTION, NOISE, SPIKE, CROP[50%]
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/noisy_spike_motion_crop_DA/ --outfile_name DenseNet_Block4_HCP_IXI --exp_name DenseNet_HCP_IXI -b 16 --gamma_scheduler 0.9 --loss l1_sup_NTXenLoss --labels age --nb_folds 1 --net densenet121_block4 --test MC --db healthy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300  &> test_densenet121_simCLR_exp3.txt &
# FLIP, BLUR, GHOSTING, MOTION, NOISE, SPIKE, CROP[75%] + Implicit supervision on age
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/noisy_spike_motion_crop_DA/sigma_0 --exp_name DenseNet_HCP_IXI --outfile_name Test_DenseNet_BIOBD --test nn_repr -b 16 --loss_param 0.5 --model SimCLR --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --labels diagnosis --stratify_label age --nb_folds 3 --net densenet121 --db bipolar_kfolds --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 --test_all_epochs &> densenet121_simCLR_all_sigma0_.txt &


## !! Still uncompleted !!
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_supervision/noisy_spike_motion_cutout_DA --exp_name DenseNet_HCP_IXI --model SimCLR -b 16 --gamma_scheduler 0.9 --loss l1_sup_NTXenLoss --labels age --nb_folds 1 --net densenet121_sup_simCLR --db healthy --sampler random --metrics accuracy --lr 1e-4 --start_from 200 --nb_epochs_per_saving 10 --num_cpu_workers 10 --nb_epochs 150 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_supervision/noisy_spike_motion_cutout_DA/DenseNet_HCP_IXI_0_epoch_200.pth &> densenet121_simCLR_cutout_sup.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/noisy_spike_motion_crop-unresized_DA/ --exp_name DenseNet_HCP_IXI --model SimCLR -b 16 --gamma_scheduler 0.9 --with_visualization --loss NTXenLoss --nb_folds 1 --net densenet121_simCLR --db healthy --sampler random --metrics accuracy --lr 1e-4 --start_from 180 --nb_epochs_per_saving 10 --num_cpu_workers 10 --nb_epochs 200 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/noisy_spike_motion_crop-unresized_DA/DenseNet_HCP_IXI_0_epoch_180.pth &> densenet121_simCLR_crop.txt &


## CROP [with eventually supervision]
#CUDA_VISIBLE_DEVICES=6 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/crop_DA/ --outfile_name DenseNet_Block%i_[SCZ_VIP][BSNIP]_window-0.5  --exp_name DenseNet_HCP_IXI_window-0.5 --test nn_repr --labels diagnosis --model SimCLR -b 16 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 1 --net densenet121 --db tiny_scz_kfolds --sampler random --metrics accuracy --lr 1e-4 --start_from 120 --nb_epochs_per_saving 10 --num_cpu_workers 5 --nb_epochs 161 &> test_dx_densenet121_simCLR_crop_0.5.txt &
# Let's vary the sigma when using the SupervisedGaussianNTXenLoss
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/crop_DA/sigma_5/BatchSize_32/ --outfile_name DenseNet_Block%i_[SCZ_VIP][BSNIP]_window-0.75 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.75 --labels diagnosis --model SimCLR -b 32 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --loss_param 5 --nb_folds 1 --net densenet121 --db tiny_scz_kfolds --switch_to_copy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 &> test_densenet121_simCLR_crop_0.75_implicit_age_sigma5.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_supervision/crop_DA/ --outfile_name DenseNet_Block%i_[SCZ_VIP][BSNIP]_window-0.5 --exp_name DenseNet_HCP_IXI_window-0.5 --test nn_repr -b 16 --model SimCLR --gamma_scheduler 0.9 --loss l1_sup_NTXenLoss --nb_folds 1 --labels diagnosis --net densenet121 --db tiny_scz_kfolds --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 --num_cpu_workers 5 &> test_densenet121_simCLR_crop_sup.txt &
# Let's vary also N_train_max
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_sex_implicit_supervision/crop_DA/sigma_0.5 --loss_param 0.5  --exp_name DenseNet_HCP_IXI_window-0.75 --labels age sex --stratify_label age --model SimCLR -b 16 --gamma_scheduler 0.9 --loss AgeSexSupervisedNTXenLoss --nb_folds 3 --net densenet121_simCLR --db healthy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 --N_train_max 500 --num_cpu_workers 5 &> densenet121_simCLR_crop_0.75_implicit_age_sigma0.5.txt &

# CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/crop_DA/ --exp_name DenseNet_HCP_IXI_window-0.75 --outfile_name DenseNet_Block4_HCP_IXI_window-0.75 -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121_block4 --test MC --db healthy --labels age --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 31 &> test_densenet121_simCLR_crop_0.75.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/crop_DA/ --exp_name DenseNet_HCP_IXI_window-0.25 --outfile_name DenseNet_Block4_HCP_IXI_window-0.25 -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121_block4 --test MC --db healthy --labels age --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 201 &> test_densenet121_simCLR_crop_0.25.txt &
# Unresized
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/crop_DA/ --outfile_name DenseNet_Block%i_[HCP_IXI][BSNIP_CTL]_window-0.5_unresized  --exp_name DenseNet_HCP_IXI_window-0.5_unresized --test nn_repr --labels age -b 16 --gamma_scheduler 0.9 --model SimCLR --loss NTXenLoss --nb_folds 1 --net densenet121 --db healthy --sampler random --metrics accuracy --load_optimizer --lr 1e-4 --nb_epochs_per_saving 10  --num_cpu_workers 5 --nb_epochs 300 &> test_densenet121_simCLR_crop_unresized_0.5.txt &

## CUTOUT [with eventually supervision]
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/cutout_DA/ --exp_name DenseNet_HCP_IXI_window-0.5 --outfile_name DenseNet_Block4_HCP_IXI_window-0.5 -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121_block4 --test MC --db healthy --labels age --switch_to_copy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.5.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/cutout_DA/ --exp_name DenseNet_HCP_IXI_window-0.75 --test nn_repr --labels age  --model SimCLR -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121 --db healthy --switch_to_copy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --num_cpu_workers 5 --nb_epochs 100 &> test_densenet121_simCLR_cutout_0.75.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/cutout_DA/ --exp_name DenseNet_HCP_IXI_window-0.25 --test nn_repr --labels age --model SimCLR -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121 --db healthy --switch_to_copy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --num_cpu_workers 5 --nb_epochs 11 &> test_densenet121_simCLR_cutout_0.25.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_supervision/cutout_DA/ --outfile_name DenseNet_Block%i_[SCZ_VIP][BSNIP]_window-0.5 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.5 --model SimCLR -b 16 --gamma_scheduler 0.9 --loss l1_sup_NTXenLoss --nb_folds 1 --labels diagnosis --net densenet121 --db tiny_scz_kfolds --switch_to_copy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --num_cpu_workers 5 --nb_epochs 300 &> test_densenet121_simCLR_cutout_sup.txt &
# Let's vary the sigma when using the SupervisedGaussianNTXenLoss
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/cutout_DA/sigma_5/BatchSize_32 --outfile_name DenseNet_Block%i_[SCZ_VIP][BSNIP]_window-0.75 --test nn_repr --loss_param 5 --exp_name DenseNet_HCP_IXI_window-0.25 --labels diagnosis --model SimCLR -b 32 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 1 --net densenet121 --db tiny_scz_kfolds --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup.txt &
CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/cutout_DA/sigma_0 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.25 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss l1 --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_sigma0.txt &
CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/cutout_DA/sigma_0.5 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.25 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss l1 --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_sigma0.5.txt &
CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/cutout_DA/sigma_1 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.25 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss l1 --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_sigma1.txt &
CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/cutout_DA/sigma_2 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.25 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss l1 --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_sigma2.txt &
CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/cutout_DA/sigma_3 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.25 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss l1 --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_sigma3.txt &
CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/age_implicit_supervision/cutout_DA/sigma_5 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.25 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss l1 --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_sigma5.txt &

#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/cutout_DA/sigma_0 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.75 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_N500_sigma0.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/cutout_DA/sigma_0.5 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.75 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_N500_sigma0.5.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/cutout_DA/sigma_1 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.75 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_N500_sigma1.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/cutout_DA/sigma_2 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.75 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_N500_sigma2.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/cutout_DA/sigma_3 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.75 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_N500_sigma3.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/cutout_DA/sigma_5 --test nn_repr --exp_name DenseNet_HCP_IXI_window-0.75 --outfile_name Test_DenseNet_HCP_IXI_window-0.25 --labels age --model base -b 16 --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --nb_folds 3 --net densenet121 --db healthy --stratify_label age --sampler random --metrics accuracy --switch_to_copy --lr 1e-4 --nb_epochs_per_saving 10  --test_all_epochs --nb_epochs 300 &> test_densenet121_simCLR_cutout_0.25_sup_N500_sigma5.txt &



## RANDOM CUTOUT
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_500/exp_3/age_implicit_supervision/random_cutout_DA/sigma_5 --exp_name DenseNet_HCP_IXI --outfile_name Test_DenseNet_SCZ_VIP -b 16 --test nn_repr --model SimCLR --gamma_scheduler 0.9 --loss SupervisedGaussianNTXenLoss --labels diagnosis --nb_folds 3 --net densenet121 --db tiny_scz_kfolds --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 --switch_to_copy &> densenet121_simCLR_random_cutout_sup_sigma5.txt &

#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/crop_cutout_DA/ --exp_name DenseNet_HCP_IXI --outfile_name DenseNet_Block4_HCP_IXI -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121_block4 --test MC --db healthy --labels age --switch_to_copy --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 300 &> test_densenet121_simCLR_crop_cutout.txt &


## AFFINE TF
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/affine_DA/ --exp_name DenseNet_HCP_IXI --outfile_name DenseNet_Block%i_[SCZ_VIP][BSNIP] --test nn_repr --model SimCLR -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121 --db tiny_scz_kfolds --labels diagnosis --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --num_cpu_workers 5 --nb_epochs 251 &> test_dx_densenet121_simCLR_affine.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/self_supervision/simCLR/DenseNet/N_1600/exp_3/unsupervised/affine_DA/ --exp_name DenseNet_HCP_IXI --outfile_name DenseNet_Block%i_[HCP_IXI][BSNIP_CTL] --test nn_repr --model SimCLR -b 16 --gamma_scheduler 0.9 --loss NTXenLoss --nb_folds 1 --net densenet121 --db healthy --labels age --sampler random --metrics accuracy --lr 1e-4 --nb_epochs_per_saving 10 --num_cpu_workers 5 --nb_epochs 251 &> test_densenet121_simCLR_affine.txt &


## LightResNet34
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/LightResNet34/N_100 --exp_name Light_ResNet34_Age_HCP_IXI -b 8 --nb_folds 10 --net light_resnet34 --with_test --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --N_train_max 100 &> light_resnet34_N100.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/LightResNet34/N_300 --exp_name Light_ResNet34_Age_HCP_IXI -b 8 --nb_folds 10 --net light_resnet34 --with_test --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --N_train_max 300 &> light_resnet34_N300.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/LightResNet34/N_500 --exp_name Light_ResNet34_Age_HCP_IXI -b 8 --nb_folds 5 --net light_resnet34 --with_test --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 100 --N_train_max 500 &> light_resnet34_N500.txt &
#

## Robustness curves
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Age --exp_name DenseNet_Age_HCP_IXI -b 8 --nb_folds 1 --net densenet121 --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> densenet121.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/Age --exp_name Full_ColeNet_Age_HCP_IXI -b 8 --nb_folds 1 --net cole_net --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> colenet.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNeXt/Age --exp_name ResNeXt_Age_HCP_IXI -b 8 --nb_folds 1 --net resnext50 --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnext.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet18/Age --exp_name ResNet18_Age_HCP_IXI -b 8 --nb_folds 1 --net resnet18 --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet18.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet50/Age --exp_name ResNet50_Age_HCP_IXI -b 8 --nb_folds 1 --net resnet50 --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet50.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/Age --exp_name Full_ResNet34_Age_HCP_IXI -b 8 --nb_folds 1 --net resnet34 --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet34.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet101/Age --exp_name ResNet101_Age_HCP_IXI -b 8 --nb_folds 1 --net resnet101 --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet101.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/VGG/VGG11/Age --exp_name VGG11_Age_HCP_IXI -b 8 --nb_folds 1 --net vgg11 --db healthy --sampler random --labels age --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> vgg11.txt &

#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Sex --exp_name DenseNet_Sex_HCP_IXI -b 8 --nb_folds 1 --net densenet121 --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> densenet121.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/Sex --exp_name Full_ColeNet_Sex_HCP_IXI -b 8 --nb_folds 1 --net cole_net --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> colenet.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNeXt/Sex --exp_name ResNeXt_Sex_HCP_IXI -b 8 --nb_folds 1 --net resnext50 --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnext.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet18/Sex --exp_name ResNet18_Sex_HCP_IXI -b 8 --nb_folds 1 --net resnet18 --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet18.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet50/Sex --exp_name ResNet50_Sex_HCP_IXI -b 8 --nb_folds 1 --net resnet50 --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet50.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/Sex --exp_name Full_ResNet34_Sex_HCP_IXI -b 8 --nb_folds 1 --net resnet34 --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet34.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet101/Sex --exp_name ResNet101_Sex_HCP_IXI -b 8 --nb_folds 1 --net resnet101 --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> resnet101.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/VGG/VGG11/Sex --exp_name VGG11_Sex_HCP_IXI -b 8 --nb_folds 1 --net vgg11 --db healthy --sampler random --labels sex --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 100 &> vgg11.txt &

#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/Dx --exp_name DenseNet_Dx_SCZ_VIP -b 8 --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> densenet121.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/Dx --exp_name Full_ColeNet_Dx_SCZ_VIP -b 8 --nb_folds 5 --net cole_net --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> colenet.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNeXt/Dx --exp_name ResNeXt_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnext50 --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnext.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet18/Dx --exp_name ResNet18_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet18 --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet18.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet50/Dx --exp_name ResNet50_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet50 --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet50.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/Dx --exp_name Full_ResNet34_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet34 --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet34.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet101/Dx --exp_name ResNet101_Dx_SCZ_VIP -b 8 --nb_folds 5 --net resnet101 --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> resnet101.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/VGG/VGG11/Dx --exp_name VGG11_Dx_SCZ_VIP -b 8 --nb_folds 5 --net vgg11 --db tiny_scz_kfolds --sampler random --labels diagnosis --test robustness --lr 1e-4 --nb_epochs_per_saving 1 --nb_epochs 50 &> vgg11.txt &

## Learning Curves

# Linear model
#python3 ~/PycharmProjects/pynet/neuroimage-2020/learning_curves_linear_models.py &> linear_models_training.txt &

#ColeNet (aka tiny-VGG)
#Sex problem, Done
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_100/Sex --exp_name ColeNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 10 --folds 0 1 2 3 4 --net cole_net --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 100 --num_cpu_workers 8 &> colenet_sex_100.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_300/Sex --exp_name ColeNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 10 --folds 0 1 2 3 --net cole_net --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 300 --num_cpu_workers 8 &> colenet_sex_300.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/N_500/Sex/other_try --exp_name ColeNet_Sex_HCP_IXI -b 8 --nb_folds 5 --net cole_net --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 500 &> colenet_sex_500.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_1000/Sex --exp_name ColeNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5  --net cole_net --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1000 --num_cpu_workers 8 &> colenet_sex_1000.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_1600/Sex --exp_name ColeNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5  --net cole_net --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1600 --num_cpu_workers 8 &> colenet_sex_1600.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/N_10K/Sex --exp_name ColeNet_Sex_Big_Healthy -b 16 --nb_folds 3  --net cole_net --db big_healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 10000 --num_cpu_workers 3 &> colenet_sex_10k.txt &


## Age problem, Done
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_100/Age --exp_name ColeNet_Age_HCP_IXI_step_size_scheduler_10 --preproc quasi_raw -b 8 --nb_folds 10 --net cole_net --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 --num_cpu_workers 8 &> colenet_age_100.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_300/Age --exp_name ColeNet_Age_HCP_IXI_step_size_scheduler_10 --preproc quasi_raw -b 8 --nb_folds 10 --net cole_net --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300 --num_cpu_workers 8 &> colenet_age_300.txt &
#CUDA_VISIBLE_DEVICES=7 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_500/Age --exp_name ColeNet_Age_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5 --net cole_net --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --stratify_label age --train --loss l1 --lr 1e-4 --nb_epochs 1 --profile_gpu --N_train_max 500  &> colenet_age_profiling.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_1000/Age --exp_name ColeNet_Age_HCP_IXI_step_size_scheduler_10 --preproc quasi_raw -b 8 --nb_folds 5 --net cole_net --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1000 --num_cpu_workers 8 &> colenet_age_1000.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_1600/Age --exp_name ColeNet_Age_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5 --folds 0 1 2 3 --net cole_net --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1600 --num_cpu_workers 10 &> colenet_age_1600.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_1600/Age --exp_name ColeNet_Age_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5 --folds 0 1 2 3 --net cole_net --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1600 --num_cpu_workers 10 &> colenet_age_1600.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ColeNet/N_10K/Age --exp_name ColeNet_Age_Big_Healthy -b 16 --nb_folds 3 --net cole_net --db big_healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 10000 --num_cpu_workers 3 &> colenet_age_10k.txt &


## Dx problem, Done
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_100/Dx --exp_name ColeNet_Dx_SCZ_VIP --preproc quasi_raw -b 8 --nb_folds 10 --net cole_net --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 --folds 0 1 2 3 4 --num_cpu_workers 8 &> colenet_dx_100.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_300/Dx --exp_name ColeNet_Dx_SCZ_VIP --preproc quasi_raw -b 8 --nb_folds 10 --net cole_net --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300 --num_cpu_workers 3 &> colenet_dx_300.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ColeNet/N_500/Dx --exp_name ColeNet_Dx_SCZ_VIP --preproc quasi_raw -b 8 --nb_folds 5 --net cole_net --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --train --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 3 &> colenet_dx_500.txt &
# DenseNet
#Sex problem, Done
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_100/Sex --exp_name DenseNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 10 --net densenet121 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 100 --num_cpu_workers 8 &> densenet_sex_100.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_300/Sex --exp_name DenseNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 10 --net densenet121 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 300 --num_cpu_workers 8 &> densenet_sex_300.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_500/Sex/other_try --exp_name DenseNet_Sex_HCP_IXI -b 8 --nb_folds 5 --net densenet121 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 500 &> densenet_sex_500.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_1000/Sex --exp_name DenseNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5 --net densenet121 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site  --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1000 &> densenet_sex_1000.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_1600/Sex --exp_name DenseNet_Sex_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5 --net densenet121 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site  --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1600 &> densenet_sex_1600.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Sex --exp_name DenseNet_Sex_Big_Healthy -b 16 --nb_folds 3 --net densenet121 --db big_healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 10000 --num_cpu_workers 2 &> densenet_sex_10k.txt &


## Age problem, Done
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_100/Age --exp_name DenseNet_Age_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 10 --net densenet121 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 &> densenet_age_100.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_300/Age --exp_name DenseNet_Age_HCP_IXI_step_size_scheduler_10 --preproc quasi_raw -b 8 --nb_folds 10  --net densenet121 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --stratify_label age  --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300 --num_cpu_workers 8 &> densenet_age_300.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_500/Age --exp_name DenseNet_Age_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5 --net densenet121 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 &> densenet_age_500.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_1000/Age --exp_name DenseNet_Age_HCP_IXI --preproc quasi_raw -b 8 --nb_folds 5 --net densenet121 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1000 &> densenet_age_1000.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_1600/Age --exp_name DenseNet_Age_HCP_IXI_step_size_scheduler_10 --preproc quasi_raw -b 8 --nb_folds 5  --net densenet121 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --stratify_label age  --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1600  &> densenet_age_1600.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/DenseNet/N_10K/Age --exp_name DenseNet_Age_Big_Healthy -b 16 --nb_folds 3  --net densenet121 --db big_healthy --gamma_scheduler 0.9 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 10000  --num_cpu_workers 2 &> densenet_age_10k.txt &


## Dx problem, Done
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_100/Dx --exp_name DenseNet_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 10 --net densenet121 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 --num_cpu_workers 5 &> densenet_dx_100.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_300/Dx --exp_name DenseNet_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 10 --net densenet121 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300 --num_cpu_workers 5 &> densenet_dx_300.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/DenseNet/N_500/Dx --exp_name DenseNet_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 5 --net densenet121 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 5 &> densenet_dx_500.txt &

# tiny-DenseNet
#Sex problem, Done
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_100/Sex --exp_name TinyDenseNet_Exp9_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 10 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 100 &> tiny_densenet_sex_100.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_300/Sex --exp_name TinyDenseNet_Exp9_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 10 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 300 &> tiny_densenet_sex_300.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_500/Sex/other_try --exp_name TinyDenseNet_Exp9_Sex_HCP_IXI -b 8 --nb_folds 5 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 500 &> tiny_densenet_sex_500.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_1000/Sex --exp_name TinyDenseNet_Exp9_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1000 &> tiny_densenet_sex_1000.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_1600/Sex --exp_name TinyDenseNet_Exp9_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1600 &> tiny_densenet_sex_1600.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/TinyDenseNet/N_10K/Sex --exp_name TinyDenseNet_Exp9_Sex_Big_Healthy -b 24 --nb_folds 3 --net tiny_densenet_exp9 --db big_healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 10000 --num_cpu_workers 4 &> tiny_densenet_sex_10k.txt &


# Age problem, Done
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_100/Age --exp_name TinyDenseNet_Exp9_Age_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 10 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 &> tiny_densenet_age_100.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_300/Age --exp_name TinyDenseNet_Exp9_Age_HCP_IXI_step_size_scheduler_10_gamma_0.7 -b 8 --preproc quasi_raw --nb_folds 10  --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --stratify_label age  --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300  &> tiny_densenet_age_300.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_500/Age --exp_name TinyDenseNet_Exp9_Age_HCP_IXI_step_size_scheduler_10_gamma_0.7 -b 8 --preproc quasi_raw --nb_folds 5 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 &> tiny_densenet_age_500.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_1000/Age --exp_name TinyDenseNet_Exp9_Age_HCP_IXI_step_size_scheduler_10_gamma_0.7 -b 8 --preproc quasi_raw --nb_folds 5 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.7 --step_size_scheduler 10 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1000 &> tiny_densenet_age_1000.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_1600/Age --exp_name TinyDenseNet_Exp9_Age_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net tiny_densenet_exp9 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1600 &> tiny_densenet_age_1600.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/TinyDenseNet/N_10K/Age --exp_name TinyDenseNet_Exp9_Age_HCP_IXI_Big_Healthy -b 24 --nb_folds 3 --net tiny_densenet_exp9 --db big_healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 10000 --num_cpu_workers 4 &> tiny_densenet_age_10k.txt &


## Dx problem, Done
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_100/Dx --exp_name TinyDenseNet_Exp9_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 10 --net tiny_densenet_exp9 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 --num_cpu_workers 5 &> tiny_densenet_dx_100.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_300/Dx --exp_name TinyDenseNet_Exp9_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 10 --net tiny_densenet_exp9 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300 --num_cpu_workers 5 &> tiny_densenet_dx_300.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/TinyDenseNet/N_500/Dx --exp_name TinyDenseNet_Exp9_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 5 --net tiny_densenet_exp9 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 5 &> tiny_densenet_dx_500.txt &



### ResNet34, Done
#Sex problem, Done
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_100/Sex --exp_name ResNet34_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 10 --net resnet34 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 100 &> resnet34_sex_100.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_300/Sex --exp_name ResNet34_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 10 --net resnet34 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 300 &> resnet34_sex_300.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/N_500/Sex/other_try --exp_name ResNet34_Sex_HCP_IXI -b 8 --nb_folds 5 --net resnet34 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 500 &> resnet34_sex_500.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_1000/Sex --exp_name ResNet34_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net resnet34 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1000 &> resnet34_sex_1000.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_1600/Sex --exp_name ResNet34_Sex_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net resnet34 --db healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --train --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 1600 &> resnet34_sex_1600.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/N_10K/Sex --exp_name ResNet34_Sex_HCP_IXI_Big_Healthy -b 24 --nb_folds 3 --net resnet34 --db big_healthy --gamma_scheduler 0.5 --step_size_scheduler 10 --sampler random --labels sex --stratify_label site --test basic --loss BCE --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --metrics roc_auc balanced_accuracy --test_all_epochs --N_train_max 10000 --num_cpu_workers 4 &> resnet34_sex_10k.txt &


# Age problem, Done
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_100/Age --exp_name ResNet34_Age_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 10 --net resnet34 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 &> resnet34_age_100.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_300/Age --exp_name ResNet34_Age_HCP_IXI_step_size_scheduler_10 -b 8 --preproc quasi_raw --nb_folds 10 --net resnet34 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 10 --sampler random --labels age --stratify_label age --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300 --num_cpu_workers 8 &> resnet34_age_300.txt &
#CUDA_VISIBLE_DEVICES=5 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_500/Age --exp_name ResNet34_Age_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net resnet34 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --loss l1 --lr 1e-4 --nb_epochs 1 --profile_gpu --N_train_max 500 &> resnet34_age_500_profiling.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_1000/Age --exp_name ResNet34_Age_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net resnet34 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1000 &> resnet34_age_1000.txt &
#CUDA_VISIBLE_DEVICES=3 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_1600/Age --exp_name ResNet34_Age_HCP_IXI -b 8 --preproc quasi_raw --nb_folds 5 --net resnet34 --db healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --train --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 1600 &> resnet34_age_1600.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/N_10K/Age --exp_name ResNet34_Age_Big_Healthy -b 24 --nb_folds 3 --net resnet34 --db big_healthy --gamma_scheduler 0.9 --step_size_scheduler 1 --sampler random --labels age --stratify_label age --test basic --loss l1 --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 10000 --num_cpu_workers 4 &> resnet34_age_10k.txt &


## Dx problem, Done
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_100/Dx --exp_name ResNet34_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 10 --net resnet34 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 100 --num_cpu_workers 5 &> resnet34_dx_100.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_300/Dx --exp_name ResNet34_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 10 --net resnet34 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 300 --num_cpu_workers 5 &> resnet34_dx_300.txt &
#CUDA_VISIBLE_DEVICES=4 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/quasi_raw/ResNet/ResNet34/N_500/Dx --exp_name ResNet34_Dx_SCZ_VIP -b 8 --preproc quasi_raw --nb_folds 5 --net resnet34 --db tiny_scz_kfolds --gamma_scheduler 0.2 --step_size_scheduler 10 --sampler random --labels diagnosis --loss BCE --stratify_label diagnosis --test basic --metrics roc_auc balanced_accuracy --lr 1e-4 --nb_epochs_per_saving 100 --nb_epochs 300 --test_all_epochs --N_train_max 500 --num_cpu_workers 5 &> resnet34_dx_500.txt &

## AlphaWGAN
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/GAN/alpha_WGAN/l1_rec_loss/No_Augmentation/With_CD_KL/ --exp_name Alpha_WGAN_HCP_IXI -b 8 --drop_last --nb_folds 1 --net alpha_wgan --lr 1e-4 --nb_epochs_per_saving 10 --with_visualization --loss l1 --gamma_scheduler 0.9 --db healthy --sampler random --labels age --nb_epochs 100 --num_cpu_workers 4 &> alpha_wgan_cd_disc_KL.txt &

## PsyNet
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/GAN/Basic_With_Flip --exp_name PsyNet_AlphaWGAN_Finetuning -b 8 --nb_folds 1 --net psy_net --lr 1e-4 --nb_epochs_per_saving 10 --db scz_kfolds --sampler weighted_random --labels diagnosis --stratify_label diagnosis --with_test --nb_epochs 100 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/GAN/alpha_WGAN/age_prediction/No_Augmentation/With_KL/Alpha_WGAN_Age_HCP_IXI_scheduling_zero_gp_0_epoch_99.pth &> psy_net.txt &


#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/No_Pretraining/schizconnect_vip_prague/ResNet34 --exp_name ResNet34_dx_Flip_with_validation -b 8 --nb_folds 1 --net resnet34 --db tiny_scz --sampler weighted_random --stratify_label diagnosis --labels diagnosis --with_test --metrics balanced_accuracy roc_auc --lr 1e-4 --nb_epochs_per_saving 10 --nb_epochs 100 &> test_resnet34_dx_no_pretrainining.txt &
#CUDA_VISIBLE_DEVICES=1 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Sex_Age_Pretraining/schizconnect_vip_prague/ResNet34 --exp_name ResNet34_dx_Flip -b 8 --nb_folds 1 --net resnet34 --db tiny_scz_kfolds --sampler weighted_random --stratify_label diagnosis --labels diagnosis --with_test --lr 1e-4 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/N_1600/ResNet34_Age_Sex_WithoutFC_0_epoch_99.pth --nb_epochs_per_saving 10 --nb_epochs 100 &> test_resnet34_dx_sex_age_pretrainining.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Action_Recognition_Pretraining/schizonnect_vip_prague/ResNet34 --exp_name ResNet34_dx_Flip -b 8 --nb_folds 1 --net resnet34 --db tiny_scz_kfolds --sampler weighted_random --stratify_label diagnosis --labels diagnosis --with_test --lr 1e-4 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/pretrained_3D_resnet/r3d34_K_200ep-without-fc.pth --nb_epochs_per_saving 10 --nb_epochs 100 &> test_resnet34_dx_kinetics_pretrainining.txt &
#CUDA_VISIBLE_DEVICES=0 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Age_Pretraining/schizonnect_vip_prague/ResNet34 --exp_name ResNet34_dx_Flip -b 8 --nb_folds 1 --net resnet34 --db tiny_scz_kfolds --sampler weighted_random --stratify_label diagnosis --labels diagnosis --with_test --lr 1e-4 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/regression_age_sex/Benchmark_IXI_HCP/ResNet/ResNet34/N_1600/Age/ResNet34_Age_HCP_IXI_0_epoch_299.pth --nb_epochs_per_saving 10 --nb_epochs 100 &> test_resnet34_age_pretrainining.txt &
#CUDA_VISIBLE_DEVICES=2 python3 $main --checkpoint_dir /neurospin/psy_sbox/bd261576/checkpoints/scz_prediction/Benchmark_Transfer/Self_Supervision/schizonnect_vip_prague/ResNet34 --exp_name ResNet34_dx_Flip -b 8 --nb_folds 1 --net resnet34 --db tiny_scz_kfolds --sampler weighted_random --stratify_label diagnosis --labels diagnosis --with_test --lr 1e-4 --pretrained_path /neurospin/psy_sbox/bd261576/checkpoints/pretrained_3D_resnet/Self_Supervision/ResNet34_HCP_IXI_PatchInversion_0_epoch_75.pth  --nb_epochs_per_saving 10 --nb_epochs 100 &> test_resnet34_self_supervised_pretrainining.txt &


# CCA
#cca_analysis=~/PycharmProjects/pynet/scratch.py
#CUDA_VISIBLE_DEVICES=0 python3 $cca_analysis &> svcca_densenet.txt &


